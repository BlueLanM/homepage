function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o,n,a,r,s=[],h=!0,c=!1;try{if(a=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;h=!1}else for(;!(h=(o=a.call(i)).done)&&(s.push(o.value),s.length!==e);h=!0);}catch(t){c=!0,n=t}finally{try{if(!h&&null!=i.return&&(r=i.return(),Object(r)!==r))return}finally{if(c)throw n}}return s}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t,e){var i,o,n,a,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return n=!(o=!0),{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){n=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(n)throw i}}};if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length)return r&&(t=r),a=0,{s:e=function(){},n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var i;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(i="Object"===(i={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=Array(e);i<e;i++)o[i]=t[i];return o}function ownKeys(e,t){var i,o=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,i)),o}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(i),!0).forEach(function(t){_defineProperty(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function _defineProperty(t,e,i){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0===i)return("string"===e?String:Number)(t);i=i.call(t,e||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}var GridAnimation=(()=>_createClass(function t(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,t),this.canvas=e,this.ctx=e.getContext("2d"),this.options=_objectSpread({borderColor:i.borderColor||"rgba(255, 255, 255, 0.05)",direction:i.direction||"right",hoverFillColor:i.hoverFillColor||"rgba(255, 255, 255, 0.6)",hoverShadowColor:i.hoverShadowColor||"rgba(255, 255, 255, 0.3)",snakeColorDecay:i.snakeColorDecay||.7,snakeGradientStops:i.snakeGradientStops||5,snakeHeadColor:i.snakeHeadColor||"rgba(255, 255, 255, 0.9)",snakeTailColor:i.snakeTailColor||"rgba(100, 100, 255, 0.3)",specialBlockColor:i.specialBlockColor||"rgba(255, 100, 100, 0.8)",specialHoverColor:i.specialHoverColor||"rgba(100, 255, 100, 0.8)",speed:i.speed||1,squareSize:i.squareSize||40,touchSensitivity:i.touchSensitivity||1,trailDuration:i.trailDuration||1e3,transitionDuration:i.transitionDuration||200,vibrationEnabled:i.vibrationEnabled||!1},i),this.gridOffset={x:0,y:0},this.hoveredSquare=null,this.animationFrame=null,this.currentOpacity=0,this.targetOpacity=0,this.lastTimestamp=0,this.hoverRadius=3,this.trailSquares=new Map,this.specialBlock=null,this.specialBlockTimer=null,this.isSpecialBlockHovered=!1,this.snakeBody=[],this.shouldGrow=!1},[{key:"init",value:function(){var t=this;this.resizeCanvas(),this.setupEventListeners(),window.isPhone&&this.optimizeForMobile(),this.animate(),window.isPhone?setTimeout(function(){t.createSpecialBlock()},500):this.createSpecialBlock(),document.addEventListener(visibilityChangeEvent,this.handleVisibilityChange.bind(this))}},{key:"optimizeForMobile",value:function(){for(var t=this.canvas.getContext("2d"),e=performance.now(),i=0;i<1e3;i++)t.fillRect(0,0,1,1);e=performance.now()-e;10<e?(this.options.squareSize=Math.max(1.5*this.options.squareSize,60),this.options.speed*=.7,this.options.trailDuration*=.5):5<e&&(this.options.squareSize=Math.max(1.2*this.options.squareSize,50),this.options.speed*=.8)}},{key:"resizeCanvas",value:function(){var t=window.devicePixelRatio||1,e=this.canvas.offsetWidth,i=this.canvas.offsetHeight;this.canvas.width=Math.floor(e*t),this.canvas.height=Math.floor(i*t),this.canvas.style.width="".concat(e,"px"),this.canvas.style.height="".concat(i,"px"),this.ctx.scale(t,t)}},{key:"setupEventListeners",value:function(){var e=this;window.addEventListener("resize",function(){return e.resizeCanvas()}),this.canvas.addEventListener("mousemove",function(t){return e.handleMouseMove(t)}),this.canvas.addEventListener("mouseleave",function(){return e.handleMouseLeave()}),window.isPhone&&this.setupTouchEvents(),window.isPhone&&void 0!==window.orientation&&window.addEventListener("orientationchange",function(){setTimeout(function(){e.resizeCanvas(),e.createSpecialBlock()},300)})}},{key:"setupTouchEvents",value:function(){var o=this,n=null,i=null,a=!1,r=0,s=0;this.handleTouchStart=function(t){t.preventDefault();var e,i=Date.now();i-r<16||(r=i,1===t.touches.length&&(t=t.touches[0],e=o.canvas.getBoundingClientRect(),n={time:i,x:t.clientX-e.left,y:t.clientY-e.top},a=!0,s++,o.handleTouchMove(n.x,n.y),o.hoveredSquare||(o.targetOpacity=.8*o.options.touchSensitivity),o.options.vibrationEnabled)&&navigator.vibrate&&navigator.vibrate(10))},this.handleTouchMoveEvent=function(t){var e;t.preventDefault(),a&&1===t.touches.length&&(t=t.touches[0],e=o.canvas.getBoundingClientRect(),i={x:t.clientX-e.left,y:t.clientY-e.top},o.handleTouchMove(i.x,i.y))},this.handleTouchEndEvent=function(t){t.preventDefault();t=Date.now();if(n&&t-n.time<300){if(2===++s)return o.resetSnake(),s=0,void(o.options.vibrationEnabled&&navigator.vibrate&&navigator.vibrate([50,50,50]))}else s=0;a=!1,i=n=null,o.handleTouchEnd()},this.handleTouchCancel=function(t){t.preventDefault(),a=!1,i=n=null},this.canvas.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.canvas.addEventListener("touchmove",this.handleTouchMoveEvent,{passive:!1}),this.canvas.addEventListener("touchend",this.handleTouchEndEvent,{passive:!1}),this.canvas.addEventListener("touchcancel",this.handleTouchCancel,{passive:!1})}},{key:"handleTouchMove",value:function(t,e){var i=Math.floor(this.gridOffset.x/this.options.squareSize)*this.options.squareSize,o=Math.floor(this.gridOffset.y/this.options.squareSize)*this.options.squareSize,t=Math.floor((t+this.gridOffset.x-i)/this.options.squareSize),i=Math.floor((e+this.gridOffset.y-o)/this.options.squareSize);(null==(e=this.hoveredSquare)?void 0:e.x)===t&&(null==(o=this.hoveredSquare)?void 0:o.y)===i||(this.hoveredSquare&&(this.snakeBody.unshift({x:this.hoveredSquare.x,y:this.hoveredSquare.y}),!this.shouldGrow&&0<this.snakeBody.length&&this.snakeBody.pop(),this.shouldGrow=!1),this.hoveredSquare={x:t,y:i},this.targetOpacity=.8*this.options.touchSensitivity,this.specialBlock&&t===this.specialBlock.x&&i===this.specialBlock.y&&(this.shouldGrow=!0,this.createSpecialBlock(),this.options.vibrationEnabled)&&navigator.vibrate&&navigator.vibrate(100))}},{key:"handleTouchEnd",value:function(){var t,e,i;this.hoveredSquare&&(this.snakeBody.unshift({x:this.hoveredSquare.x,y:this.hoveredSquare.y}),!this.shouldGrow&&0<this.snakeBody.length&&this.snakeBody.pop(),this.shouldGrow=!1,t=Math.floor(this.gridOffset.x/this.options.squareSize)*this.options.squareSize,e=Math.floor(this.gridOffset.y/this.options.squareSize)*this.options.squareSize,i="".concat(this.hoveredSquare.x,",").concat(this.hoveredSquare.y),this.trailSquares.set(i,{opacity:.8,x:this.hoveredSquare.x*this.options.squareSize+t,y:this.hoveredSquare.y*this.options.squareSize+e})),this.hoveredSquare&&(this.targetOpacity=.4)}},{key:"resetSnake",value:function(){this.snakeBody=[],this.hoveredSquare=null,this.targetOpacity=0,this.trailSquares.clear(),this.createSpecialBlock(),this.options.vibrationEnabled&&navigator.vibrate&&navigator.vibrate(200)}},{key:"handleMouseMove",value:function(t){var e=this.canvas.getBoundingClientRect(),i=t.clientX-e.left,t=t.clientY-e.top,e=Math.floor(this.gridOffset.x/this.options.squareSize)*this.options.squareSize,o=Math.floor(this.gridOffset.y/this.options.squareSize)*this.options.squareSize,i=Math.floor((i+this.gridOffset.x-e)/this.options.squareSize),e=Math.floor((t+this.gridOffset.y-o)/this.options.squareSize);(null==(t=this.hoveredSquare)?void 0:t.x)===i&&(null==(o=this.hoveredSquare)?void 0:o.y)===e||(this.hoveredSquare&&(this.snakeBody.unshift({x:this.hoveredSquare.x,y:this.hoveredSquare.y}),!this.shouldGrow&&0<this.snakeBody.length&&this.snakeBody.pop(),this.shouldGrow=!1),this.hoveredSquare={x:i,y:e},this.targetOpacity=.6,this.specialBlock&&i===this.specialBlock.x&&e===this.specialBlock.y&&(this.shouldGrow=!0,this.createSpecialBlock()))}},{key:"handleMouseLeave",value:function(){var t,e,i;this.hoveredSquare&&(t=Math.floor(this.gridOffset.x/this.options.squareSize)*this.options.squareSize,e=Math.floor(this.gridOffset.y/this.options.squareSize)*this.options.squareSize,i="".concat(this.hoveredSquare.x,",").concat(this.hoveredSquare.y),this.trailSquares.set(i,{opacity:.6,x:this.hoveredSquare.x*this.options.squareSize+t,y:this.hoveredSquare.y*this.options.squareSize+e})),this.hoveredSquare=null,this.targetOpacity=0}},{key:"createSpecialBlock",value:function(){this.specialBlockTimer&&clearTimeout(this.specialBlockTimer);for(var e,i,t=window.devicePixelRatio||1,o=Math.ceil(this.canvas.width/t/this.options.squareSize),n=Math.ceil(this.canvas.height/t/this.options.squareSize);e=1+Math.floor(Math.random()*(o-2)),i=1+Math.floor(Math.random()*(n-2)),this.snakeBody.some(function(t){return t.x===e&&t.y===i}););this.specialBlock={color:this.options.specialBlockColor,initialOffset:_objectSpread({},this.gridOffset),x:e,y:i}}},{key:"drawGrid",value:function(){var u=this,t=window.devicePixelRatio||1,d=(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.setTransform(t,0,0,t,0,0),Math.floor(this.gridOffset.x/this.options.squareSize)*this.options.squareSize),p=Math.floor(this.gridOffset.y/this.options.squareSize)*this.options.squareSize;this.ctx.lineWidth=window.isPhone?1:.5,window.isPhone&&this.ctx.translate(.5,.5),this.snakeBody.forEach(function(t,e){var i,o,n,a,r,s,h,c,l=Math.round(t.x*u.options.squareSize+d-u.gridOffset.x%u.options.squareSize),t=Math.round(t.y*u.options.squareSize+p-u.gridOffset.y%u.options.squareSize);u.ctx.shadowColor=u.options.hoverShadowColor,u.ctx.shadowBlur=15,u.ctx.shadowOffsetX=0,(u.ctx.shadowOffsetY=0)===e?u.ctx.fillStyle=u.options.snakeHeadColor:(e=Math.pow(u.options.snakeColorDecay,e),o=u.options.snakeHeadColor.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([.\d]+))?\)/),n=u.options.snakeTailColor.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([.\d]+))?\)/),o&&n?(r=parseInt(o[1]),h=parseInt(o[2]),i=parseInt(o[3]),o=o[4]?parseFloat(o[4]):1,a=parseInt(n[1]),s=parseInt(n[2]),c=parseInt(n[3]),n=n[4]?parseFloat(n[4]):1,a=Math.round(r+(a-r)*(1-e)),r=Math.round(h+(s-h)*(1-e)),s=Math.round(i+(c-i)*(1-e)),h=o+(n-o)*(1-e),u.ctx.fillStyle="rgba(".concat(a,", ").concat(r,", ").concat(s,", ").concat(h,")")):(c=Math.max(.2,e),u.ctx.fillStyle="rgba(255, 255, 255, ".concat(c,")"))),u.ctx.fillRect(l,t,u.options.squareSize,u.options.squareSize),u.ctx.shadowColor="transparent",u.ctx.shadowBlur=0});for(var e=d;e<this.canvas.width+this.options.squareSize;e+=this.options.squareSize)for(var i=p;i<this.canvas.height+this.options.squareSize;i+=this.options.squareSize){var o=Math.round(e-this.gridOffset.x%this.options.squareSize),n=Math.round(i-this.gridOffset.y%this.options.squareSize),a=Math.floor((e-d)/this.options.squareSize),r=Math.floor((i-p)/this.options.squareSize);this.specialBlock&&a===this.specialBlock.x&&r===this.specialBlock.y&&(this.ctx.shadowColor="rgba(255, 255, 255, 0.5)",this.ctx.shadowBlur=20,this.ctx.fillStyle=this.specialBlock.color,this.ctx.fillRect(o,n,this.options.squareSize,this.options.squareSize),this.ctx.shadowColor="transparent",this.ctx.shadowBlur=0),this.hoveredSquare&&a===this.hoveredSquare.x&&r===this.hoveredSquare.y&&(this.ctx.shadowColor=this.options.hoverShadowColor,this.ctx.shadowBlur=15,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,a=this.options.hoverFillColor.replace("0.6",this.currentOpacity.toString()),this.ctx.fillStyle=a,this.ctx.fillRect(o,n,this.options.squareSize,this.options.squareSize),this.ctx.shadowColor="transparent",this.ctx.shadowBlur=0),this.ctx.strokeStyle=this.options.borderColor,this.ctx.strokeRect(o,n,this.options.squareSize,this.options.squareSize)}window.isPhone&&this.ctx.translate(-.5,-.5);var s=this.ctx.createRadialGradient(this.canvas.width/t/2,this.canvas.height/t/2,0,this.canvas.width/t/2,this.canvas.height/t/2,Math.sqrt(Math.pow(this.canvas.width/t,2)+Math.pow(this.canvas.height/t,2))/2);s.addColorStop(0,"rgba(6, 6, 6, 0)"),s.addColorStop(1,"#060606"),this.ctx.fillStyle=s,this.ctx.fillRect(0,0,this.canvas.width/t,this.canvas.height/t)}},{key:"updateAnimation",value:function(t){var e,i=this,o=(this.lastTimestamp||(this.lastTimestamp=t),t-this.lastTimestamp),n=(this.lastTimestamp=t,this.currentOpacity!==this.targetOpacity&&(t=Math.min(o/this.options.transitionDuration,1),this.currentOpacity=this.currentOpacity+(this.targetOpacity-this.currentOpacity)*t),_createForOfIteratorHelper(this.trailSquares));try{for(n.s();!(e=n.n()).done;){var a=_slicedToArray(e.value,2),r=a[0],s=a[1];s.opacity-=o/this.options.trailDuration,s.opacity<=0&&this.trailSquares.delete(r)}}catch(t){n.e(t)}finally{n.f()}var h,t=window.devicePixelRatio||1,c=Math.max(window.isPhone?.8*this.options.speed:this.options.speed,0),l=window.isPhone?Math.round(100*c)/100:c;switch(this.options.direction){case"right":this.gridOffset.x=(this.gridOffset.x-l+this.options.squareSize)%this.options.squareSize;break;case"left":this.gridOffset.x=(this.gridOffset.x+l+this.options.squareSize)%this.options.squareSize;break;case"up":this.gridOffset.y=(this.gridOffset.y+l+this.options.squareSize)%this.options.squareSize;break;case"down":this.gridOffset.y=(this.gridOffset.y-l+this.options.squareSize)%this.options.squareSize;break;case"diagonal":this.gridOffset.x=(this.gridOffset.x-l+this.options.squareSize)%this.options.squareSize,this.gridOffset.y=(this.gridOffset.y-l+this.options.squareSize)%this.options.squareSize}this.specialBlock&&(c=Math.floor(this.gridOffset.x/this.options.squareSize)*this.options.squareSize,h=Math.floor(this.gridOffset.y/this.options.squareSize)*this.options.squareSize,c=Math.round(this.specialBlock.x*this.options.squareSize+c-this.gridOffset.x%this.options.squareSize),h=Math.round(this.specialBlock.y*this.options.squareSize+h-this.gridOffset.y%this.options.squareSize),c<-this.options.squareSize||c>this.canvas.width/t||h<-this.options.squareSize||h>this.canvas.height/t)&&this.createSpecialBlock(),this.drawGrid(),this.animationFrame=requestAnimationFrame(function(t){return i.updateAnimation(t)})}},{key:"animate",value:function(){var e=this;this.animationFrame=requestAnimationFrame(function(t){return e.updateAnimation(t)})}},{key:"handleVisibilityChange",value:function(){document[hiddenProperty]?this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null):this.animationFrame||(this.lastTimestamp=0,this.animate())}},{key:"destroy",value:function(){var e=this;this.animationFrame&&cancelAnimationFrame(this.animationFrame),window.removeEventListener("resize",function(){return e.resizeCanvas()}),this.canvas.removeEventListener("mousemove",function(t){return e.handleMouseMove(t)}),this.canvas.removeEventListener("mouseleave",function(){return e.handleMouseLeave()}),window.isPhone&&this.handleTouchStart&&(this.canvas.removeEventListener("touchstart",this.handleTouchStart),this.canvas.removeEventListener("touchmove",this.handleTouchMoveEvent),this.canvas.removeEventListener("touchend",this.handleTouchEndEvent),this.canvas.removeEventListener("touchcancel",this.handleTouchCancel)),document.removeEventListener(visibilityChangeEvent,this.handleVisibilityChange.bind(this)),window.isPhone&&void 0!==window.orientation&&window.removeEventListener("orientationchange",function(){})}}]))();function getMoveDirection(t,e,i,o){if(window.isPhone)return i=i-t,t=o-e,Math.sqrt(i*i+t*t)<30?window.DIRECTIONS.UNDIRECTED:-150<=(o=180*Math.atan2(t,i)/Math.PI)&&o<=-30?window.DIRECTIONS.UP:30<o&&o<150?window.DIRECTIONS.DOWN:120<=o&&o<=180||-180<=o&&o<-120?window.DIRECTIONS.LEFT:-60<=o&&o<=60?window.DIRECTIONS.RIGHT:window.DIRECTIONS.UNDIRECTED}function loadIntro(){document[hiddenProperty]||loadIntro.loaded||(setTimeout(function(){$(".wrap").classList.add("in"),setTimeout(function(){$(".content-subtitle").innerHTML="<span>".concat(_toConsumableArray(subtitle).join("</span><span>"),"</span>")},270)},0),loadIntro.loaded=!0)}function switchToMain(){var t;switchToMain.switched||((t={intro:$(".content-intro"),path:$(".shape-wrap path"),shape:$("svg.shape")}).shape.style.transformOrigin="50% 0%",t.intro.classList.remove("active"),anime({duration:1100,easing:"easeInOutSine",targets:t.intro,translateY:"-200vh"}),anime({scaleY:[{duration:550,easing:"easeInQuad",value:[.8,1.8]},{duration:550,easing:"easeOutQuad",value:1}],targets:t.shape}),anime({d:t.path.getAttribute("pathdata:id"),duration:1100,easing:"easeOutQuad",targets:t.path}),switchToMain.switched=!0,window.currentPage="main")}function switchToIntro(){var t,e;switchToMain.switched&&((t={intro:$(".content-intro"),path:$(".shape-wrap path"),shape:$("svg.shape")}).shape.style.transformOrigin="50% 0%",(e=document.querySelector(".content-category"))&&(e.classList.remove("active"),e.classList.remove("hiding"),e.style.pointerEvents="none"),t.intro.classList.add("active"),window.backgroundCanvas&&(window.backgroundCanvas.style.display="block","function"==typeof window.initBackground)&&(window.initBackground.loaded=!1,window.initBackground()),document.querySelector(".content-inner")&&(document.querySelector(".content-inner").style.background="unset"),document.querySelector(".shape")&&(document.querySelector(".shape").style.fill="#1e1f21"),anime({duration:1100,easing:"easeInOutSine",targets:t.intro,translateY:"0vh"}),anime({scaleY:[{duration:550,easing:"easeInQuad",value:[1,1.8]},{duration:550,easing:"easeOutQuad",value:.8}],targets:t.shape}),anime({complete:function(){switchToMain.switched=!1,loadAll.loaded=!1},d:"M -44,-50 C -52.71,28.52 15.86,8.186 184,14.69 383.3,22.39 462.5,12.58 638,14 835.5,15.6 987,6.4 1194,13.86 1661,30.68 1652,-36.74 1582,-140.1 1512,-243.5 15.88,-589.5 -44,-50 Z",duration:1100,easing:"easeOutQuad",targets:t.path}),window.currentPage="intro")}function switchPage(){switchToMain()}function loadMain(){loadMain.loaded||(setTimeout(function(){$(".card-inner").classList.add("in"),setTimeout(function(){var t=document.getElementById("gridCanvas");t&&new GridAnimation(t,{borderColor:window.isPhone?"rgba(100, 181, 246, 0.15)":"rgba(100, 181, 246, 0.08)",direction:"diagonal",hoverFillColor:"rgba(100, 181, 246, 0.8)",hoverShadowColor:"rgba(100, 181, 246, 0.8)",snakeColorDecay:.85,snakeHeadColor:"rgba(144, 202, 249, 0.95)",snakeTailColor:"rgba(100, 181, 246, 0.2)",specialBlockColor:"rgba(255, 193, 7, 0.85)",specialHoverColor:"rgba(255, 235, 59, 0.9)",speed:window.isPhone?.03:.05,squareSize:window.isPhone?50:40,touchSensitivity:window.isPhone?1.2:1,trailDuration:window.isPhone?2e3:1500,transitionDuration:window.isPhone?150:200,vibrationEnabled:window.isPhone}).init()},1100)},400),loadMain.loaded=!0)}function loadAll(){loadAll.loaded||(switchPage(),loadMain(),loadAll.loaded=!0)}window.hiddenProperty="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,window.DIRECTIONS={DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT",UNDIRECTED:"UNDIRECTED",UP:"UP"},window.isPhone=/Mobile|Android|iOS|iPhone|iPad|iPod|Windows Phone|KFAPWI/i.test(navigator.userAgent),window.visibilityChangeEvent=hiddenProperty.replace(/hidden/i,"visibilitychange"),window.currentPage="intro",window.addEventListener(visibilityChangeEvent,loadIntro),window.addEventListener("DOMContentLoaded",loadIntro);var touchStartPosition,isCanvasTouch,enterEl=$(".enter");function handleScrollEvent(t){t=t.deltaY||-1*t.wheelDelta||t.detail;"category"!==window.currentPage&&("main"===window.currentPage&&t<0?switchToIntro():0<t&&(!window.currentPage||"intro"===window.currentPage)&&loadAll())}function setupCategoryListeners(){document.querySelectorAll(".category-item").forEach(function(e){e.querySelector(".category-link").addEventListener("click",function(t){t.preventDefault(),showCategoryPage(e.getAttribute("data-category"))})})}function showCategoryPage(e){var t,i,o,n,a;window.categoryData&&(t=window.categoryData.find(function(t){return t.id===e}))&&(i=document.querySelector(".content-category"),o=document.querySelector(".category-title"),n=document.querySelector(".category-projects-list"),a=document.querySelector(".category-card-inner"),i.classList.remove("hiding"),a.classList.remove("out"),i.style.pointerEvents="auto",o.textContent=t.text,n.innerHTML="",t.projects.forEach(function(t,e){var i=document.createElement("li");i.innerHTML='\n\t\t\t<a href="'.concat(t.href,'" aria-label="').concat(t.text,'" target="_blank" rel="noopener noreferrer">\n\t\t\t\t<i class="icon icon-').concat(t.icon,'"></i>\n\t\t\t\t<span>').concat(t.text,"</span>\n\t\t\t</a>\n\t\t"),n.appendChild(i)}),i.classList.add("active"),window.currentPage="category",setTimeout(function(){a.classList.add("in")},150))}function hideCategoryPage(){var t=document.querySelector(".content-category"),e=document.querySelector(".category-card-inner");t.style.pointerEvents="none",e.classList.remove("in"),e.classList.add("out"),t.classList.add("hiding"),setTimeout(function(){t.classList.remove("active"),t.classList.remove("hiding"),e.classList.remove("out"),window.currentPage="main"},800)}enterEl.addEventListener("click",loadAll),enterEl.addEventListener("touchenter",loadAll),document.body.addEventListener("wheel",handleScrollEvent,{passive:!0}),document.body.addEventListener("mousewheel",handleScrollEvent,{passive:!0}),document.body.addEventListener("DOMMouseScroll",handleScrollEvent,{passive:!0}),$(".arrow").addEventListener("mouseenter",loadAll),window.isPhone&&(touchStartPosition=null,isCanvasTouch=!1,document.addEventListener("touchstart",function(t){var e,i,o=document.getElementById("gridCanvas");isCanvasTouch=!1,o&&"main"===window.currentPage&&t.target===o&&(o=o.getBoundingClientRect(),e=t.touches[0].clientX-o.left,i=t.touches[0].clientY-o.top,isCanvasTouch=50<e&&e<o.width-50&&50<i&&i<o.height-50),isCanvasTouch||(touchStartPosition={time:Date.now(),x:t.touches[0].pageX,y:t.touches[0].pageY}),window.startx=t.touches[0].pageX,window.starty=t.touches[0].pageY},{passive:!0}),document.addEventListener("touchend",function(t){var e,i;!isCanvasTouch&&touchStartPosition&&(e=t.changedTouches[0].pageX,t=t.changedTouches[0].pageY,50<(i=Date.now()-touchStartPosition.time))&&i<1e3&&((i=getMoveDirection(touchStartPosition.x,touchStartPosition.y,e,t))!==window.DIRECTIONS.UP||window.currentPage&&"intro"!==window.currentPage?i===window.DIRECTIONS.DOWN&&"main"===window.currentPage&&switchToIntro():loadAll()),touchStartPosition=null,isCanvasTouch=!1},{passive:!0}));var originalSwitchToMain=switchToMain;window.switchToMain=function(){("category"===window.currentPage?hideCategoryPage:originalSwitchToMain)()},document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".back-button");t&&t.addEventListener("click",function(){hideCategoryPage()}),setTimeout(function(){setupCategoryListeners()},1500)});